## Day18

## vim 掌握宏

可以录制一系列操作，相当于一个“函数”

1. 开始录制：`q` + `a` a 是寄存器的名字，也可以用别的
2. 结束录制，`q`
3. 查看录制好的宏 `:reg` + `a`
4. 使用：`@` + `a` a 是寄存器的名字
5. 调用最后一次执行的宏：`@` + `@` 某个宏需要连续调用时，这个命令很实用
6. 重复执行宏：`数字` + `@` + `寄存器` ，例如：`10` + `@` + `a` 执行十次 a 的操作
7. 安全机制：报错就停
8. 追加：`q` + `A` 这里的A是寄存器的名字，对应的是上面的a。会追加到宏的最后。

### 修改一个已知的宏

修改寄存器里面的内容

- 取出宏的内容
  - `"` + `a` + `p` 复制宏的内容，a是寄存器的名字
  - `:put` + `a`
* 修改内容
- 粘贴回去
  - `"` + `a` + `y` + `w`
  - `"` + `a` + `y` + `y` 粘贴
> VS Code中修改宏会失效，在vim客户端中可以正常使用

### 定义宏的技巧

- 先规范好光标的位置
- 移动的时候使用相对位置
  * 比如: `w`，`e`，`textObject`都可以
  * 但是 `jkhl` 就是绝对位置
  0s{<C-[>0s<C-[>

```js
1. one
2. two
3. three
4. four
5.  ten
```

```js
1. one
2. two
3. three
4. four
10. ten
```
